# EasyVoting
Online voting app based on IPFS.

# Usage
## Registration Setup
IPNS key is generated by each voter.  
Each voter's email address and IPNS address are sent to an election manager.  

Each IPNS key is stored locally.  
Email addresses and IPNS addresses are stored in the manager's server.

## Online Voter Registration
RSA key pair is generated by each voter.  

Each private key is stored locally.  
Each public key is stored in the voter's IPNS.  

## Voting Setup
RSA key pair is generated by the manager.   
The private key is stored locally.  

Manager gets Voters' email addresses and IPNS addresses from the server.  
UserIDs are generated by the manager. 
HUserIDs are generated.  
HUserID := util.Hash(userID)  

UserIPNSKeys are generated.  
const systemID string = util.GenUniqueID(25,25)  
UserIPNSKey := util.Hash(votingID + systemID + userID)  

And then, voters' IPNS addresses for voting (UserAddrs) are generated.  

UserIDs are encoded with the voter's public key.  
Emails include each encoded userID are transmitted.    

Input Election info and store in IPFS.  
type ElectionInfo struct{  
  VotingID   string  
  VotingType string  
  ManPubKey  rsa.PublicKey  
  Begin      time.Time  
  End        time.Time  
  Candidates map[string]Candidate  
  HUserID    map[string]struct{}  
  UserAddrs  []string  
}  
type Candidate struct{  
  URL      string  
  Group    string  
  GroupURL string  
  Image    []byte  
}  

## Voting
Decode the encoded userID with the user private key.  
UserIPNSKey is generated by each voter.  
Load the Election info from its IPFS address.  
Voting Page is customized based on the Election info.  
Voting data is stored in IPNS with the UserIPNSKey.  
## Counting Setup
Manager's private key is added to IPFS.  
## Counting
Get the manager's private key from its IPFS address.  
Get the UserAddrs.  
Get all voting data and decrypt them.  
Tally them.
